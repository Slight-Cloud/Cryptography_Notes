我们继续上课。经过前两次线下的交流以及国庆、中秋长假中间的几次线上学习，我要求大家把视频看完，所以大家对这门课应该有比较清楚的了解。马上要进行本科教学评估，全校上下都非常积极主动，但我觉得我们班上的氛围还是不够的。最后一排的同学坐到前面来，摄像头和专家都可以看见的，大家不要往后坐，抓紧时间坐到中间和前排来。

我们翻转课堂主要以提问为主，以推进课程进度。大家知道我们这门课叫《密码学与网络安全协议》。网络安全解决的是在不安全的网络环境下进行安全的数据传输问题，我们这门课是以防为主，尽量不让别人去侦听、篡改等。大家可能在各种论坛上也听说过“信息安全”，我想问问大家对

信息安全和网络安全的区别怎么理解。

信息安全的概念比网络安全更广，它包含四个角度。

第一是设备安全，比如机房的防雷、空调、防水防漏，以及服务器等硬件设施的安全。

第二是数据安全，数据不仅涉及传输，还有存储和处理。

第三是内容安全。数据通常指底层的01比特流，而内容是指解码后具有语义的信息。比如一张图像是否包含不良信息，一句话是否带有政治错误，这属于内容安全。我们在底层传输时不关心内容，只关心比特流的准确性，但上层内容有其特定的安全要求。

第四是行为安全。比如老师登录系统录入成绩，如果是因为眼花把60分改成90分，这是误操作；但如果是黑客破解账号去修改成绩，这就是行为安全问题。所以信息安全涉及设备、数据、内容和行为四个方面。

关于网络数据传输过程中的攻击类型，主要有四种。

第一是中断，这是最简单的物理破坏，比如剪断网线。

第二是截取（侦听），攻击者搭线窃听通讯内容。

第三是篡改，修改传输的信息。

第四是伪造，无中生有地发送虚假信息。

针对这些攻击，我们需要提供相应的安全服务和机制。

例如，为了防止窃听，我们提供保密性服务，通过加密机制实现；

为了防止伪造，我们需要认证服务，可以通过数字签名等机制来实现。

而在技术上无法解决的中断问题（如物理破坏），则需要通过加强物理设施防护来解决。

关于网络安全模型图，其中涉及可信第三方。为什么需要第三方？因为在网络环境下，双方直接线下交换密钥（如跨国通信）往往不现实。第三方负责密钥分配，但这也带来风险：如果第三方被攻破，或者第三方不可信（窃听或泄露密钥），系统就不安全。模型的核心在于安全变换，包含两个要素：算法和密钥。网络上的算法必须是固化的、标准化的协议，不能过于个性化；而密钥是变量。这就好比密码箱的原理是一样的（算法），但每个人的密码（密钥）不同。

关于算法的安全性，是否存在绝对安全的算法？是存在的，那就是“一次一密”（One-Time Pad）。比如生成一个与明文等长的随机比特流作为密钥，进行异或运算。这是无条件安全的，因为密文和明文没有任何统计关系。但是为什么我们在实际中不用？因为代价太高。如果要传输100G的电影，就需要分发100G的密钥，这在密钥管理和分发上无法实现。因此，我们通常追求的是计算上的安全，而不是绝对安全。通常我们从时间成本和经济成本来衡量安全性，如果破解密文所需的代价超过了信息的价值，或者破解时间超过了信息的有效期，我们就认为它是安全的。

关于信息隐藏，我也简单提一下。文本很难进行信息隐藏，因为文本的语义是确定的，改动一个字可能就被发现了。而多媒体信息（如图像、音频）存在大量的冗余，且人眼的分辨率有限（不像猫头鹰那么敏锐），对微小的灰度变化（例如像素值从23变到24）是看不出来的。利用这种冗余，我们可以在像素的最低有效位（LSB）中隐藏信息。例如在一张800x800的图像中，修改每个像素的最后几位比特来携带秘密数据，人眼看不出区别，但可以传输大量隐藏信息。这往往需要结合频率变换（如傅里叶变换、小波变换）来处理，从频域的角度去理解信号。

回到密码学历史，二战时的转子机（如Enigma）是通过转动改变电路连接来实现加密的。每一对机器的内部连线是固定的，但转子的起始位置和顺序是可变的密钥。图灵破解了这种机制。二战中密码学起到了决定性作用，比如美军破解了日军的密码系统，从而掌握了山本五十六的行踪并将其击毙。这说明密码技术在战争和现代安全中至关重要。

关于香农（Shannon）和Feistel的贡献。香农提出了密码学的理论框架，指出加密操作归结为代换（Substitution）和置换（Permutation），并提出了扩散（Diffusion）和混乱（Confusion）的概念。Feistel的贡献在于将这些理论实例化，设计了代换-置换网络（SPN）的结构框架，为后来的DES等算法奠定了基础。

最后讲一下S-DES（Simplified DES）算法，这是为了教学设计的简化版，只有两轮，而真正的DES是16轮。大家要注意，为什么算法中不直接定义两个子密钥，而是通过一个初始密钥去生成子密钥？这主要是为了效率。在计算机算力相对昂贵而传输存储资源受限的年代，我们遵循“多算少传”的原则。通过算法由一个短密钥生成多个轮密钥，可以节省存储和传输开销。S-DES的加密过程中使用了P10、P8置换、循环左移以及核心的Fk函数。Fk函数中包含了扩展置换（EP）、异或运算、S盒代换和P4置换。其中S盒是核心的非线性变换部件，它通过行列坐标查找来替换数据，虽然看似简单，但通过多轮迭代可以产生复杂的非线性效果，从而抵抗密码分析。大家回去要搞清楚这些变换的具体过程，这也是考试的内容之一。
